"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[549],{4549:function(t,s,e){e.r(s),e.d(s,{default:function(){return D}});var r=e(8683),n=e(5671),i=e(3144),u=e(136),a=e(5716),o=e(2791),p="ProfileInfo_descriptionBlock__+qpIC",c="ProfileInfo_picture__UIVjZ",l=e(6903),d=e(885),h=e(184),f=function(t){var s=t.updateUserStatus,e=t.status,r=(0,o.useState)(!1),n=(0,d.Z)(r,2),i=n[0],u=n[1],a=(0,o.useState)(e),p=(0,d.Z)(a,2),c=p[0],l=p[1];(0,o.useEffect)((function(){return l(e),function(){}}),[]);return(0,h.jsx)("div",{children:i?(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,value:c,onChange:function(t){l(t.currentTarget.value)},onBlur:function(){u(!1),s(c)}})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){u(!0)},children:e||"no status"})})})},j=function(t){var s=t.profile,e=t.status,r=t.updateUserStatus;return s?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:c,children:(0,h.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__480.jpg",alt:"ava"})}),(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("img",{src:s.photos.large?s.photos.large:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:"ava"}),(0,h.jsx)("h3",{children:s.fullName}),(0,h.jsx)(f,{status:e,updateUserStatus:r}),(0,h.jsx)("p",{children:s.aboutMe})]})]}):(0,h.jsx)(l.p,{})},x=e(81),m="MyPosts_postsBlock__uMDCx",v="MyPosts_posts__BNn+1",g="Post_item__rq7Xl",_=function(t){return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("img",{src:"https://sm.ign.com/ign_nordic/cover/a/avatar-gen/avatar-generations_prsz.jpg"}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like"})," ",t.likesCount]})]})},P=e(6139),k=e(704),S=e(3079),U=e(7410),y=o.memo((function(t){var s=t.posts.map((function(t){return(0,h.jsx)(_,{message:t.message,likesCount:t.likesCount})}));return(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(C,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,h.jsx)("div",{className:v,children:s})]})})),Z=(0,S.D)(10),C=(0,k.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)(P.Z,{name:"newPostText",component:U.g,placeholder:"Post message",validate:[S.l,Z]}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),b=y,N=e(364),w=(0,N.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,x.Wl)(s))}}}))(b),A=function(t){var s=t.profile,e=t.status,r=t.updateUserStatus;return(0,h.jsxs)("div",{children:[(0,h.jsx)(j,{profile:s,status:e,updateUserStatus:r}),(0,h.jsx)(w,{})]})},I=e(9271),M=e(2163),q=e(7781),B=function(t){(0,u.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,h.jsx)("div",{children:(0,h.jsx)(A,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))})}}]),e}(o.Component),D=(0,q.qC)((0,N.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.isAuth,authorizedUserId:t.auth.id}}),{getUserProfile:x.et,getUserStatus:x.Tq,updateUserStatus:x.OL}),I.EN,M.e)(B)},2163:function(t,s,e){e.d(s,{e:function(){return c}});var r=e(8683),n=e(5987),i=(e(2791),e(9271)),u=e(364),a=e(184),o=["isAuth"],p=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,u.$j)(p)((function(s){var e=s.isAuth,u=(0,n.Z)(s,o);return e?(0,a.jsx)(t,(0,r.Z)({},u)):(0,a.jsx)(i.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=549.7443af44.chunk.js.map